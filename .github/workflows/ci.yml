name: Test Master Branch

on:
  push:
    branches: [ master ]
  workflow_dispatch:  # ручной запуск

jobs:
  test-master:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout master branch
      uses: actions/checkout@v3
      with:
        ref: master  # явно указываем ветку
        
    - name: Test specific modules
      run: |
        echo "Testing modules from master branch"
        # Тестируем конкретные модули
        if [ -f "module1.py" ]; then
          python -c "import module1; print('Module1 OK')"
        fi
        if [ -f "module2.py" ]; then
          python -c "import module2; print('Module2 OK')"
        fi
